---
import { getImage, Image } from "astro:assets";
import logo_black from "../assets/logo_black.png";
import logo_blue from "../assets/logo_blue.png";
import logo_white from "../assets/logo_white.png";
const black = await getImage({ src: logo_black, format: "webp" });
const white = await getImage({ src: logo_white, format: "webp" });

let { width = 644, height = 496, turnOn = false } = Astro.props;
const animation = turnOn ? "neonStartupDelayed 5s ease-in-out forwards" : "";
let icon_black = `url(${black.src})`;
let icon_white = `url(${white.src})`;
const logo_max_width = `${width}rem`;
const logo_max_height = `${height}rem`;
---

<div>
  <!-- width:${logo_blue.width}px; -->
  <!-- height:${logo_blue.height}px; -->
  <!-- --icon-blue: url(${blue.src}); -->
  <!-- <a href="/home"> -->
  <span>Cross Key Studios</span>
  <Image src={logo_blue} alt="" />
  <!-- </a> -->
</div>

<style
  define:vars={{
    animation,
    "logo-max-width": logo_max_width,
    "logo-max-height": logo_max_height,
    "icon-black": icon_black,
    "icon-white": icon_white,
  }}
>
  div {
    box-sizing: content-box;
    aspect-ratio: 644/496;
    max-width: var(--logo-max-width);
    max-height: min(20rem, var(--logo-max-height));

    background-image: var(--icon-white);
    background-position: center;
    background-size: contain;
    background-repeat: no-repeat;
    animation: var(--animation);
  }
  span {
    display: none;
  }
  img {
    width: 100%;
    height: 100%;
    &:hover {
      animation: neon-hover 1s ease-in-out infinite;
    }
  }

  @keyframes neonStartupDelayed {
    0% {
      scale: 0.98;
      opacity: 0;
    }
    19% {
      scale: 0.98;
      opacity: 0;
    }

    20% {
      scale: 1;
      opacity: 1;
    }
    22% {
      scale: 0.98;
      opacity: 0;
    }
    24% {
      scale: 1;
      opacity: 1;
    }
    25% {
      scale: 0.98;
      opacity: 0;
    }

    30% {
      scale: 1;
      opacity: 1;
    }
    33% {
      scale: 1;
      opacity: 0.2;
    }
    38% {
      scale: 1;
      opacity: 1;
    }

    45% {
      opacity: 0.9;
    }
    50%,
    100% {
      scale: 1;
      filter: none;
      opacity: 1;
    }
  }
  @keyframes neon-hover {
    20%,
    24%,
    55% {
      filter: grayscale(0%) brightness(1.5) drop-shadow(0 0 5px #00d4ff)
        drop-shadow(0 0 15px #00d4ff);
    }

    22% {
      filter: grayscale(100%) brightness(0.3) drop-shadow(0 0 0px transparent);
    }

    0%,
    19%,
    21%,
    23%,
    25%,
    54%,
    56%,
    100% {
      filter: grayscale(0%) brightness(1.1) drop-shadow(0 0 3px #00d4ff)
        drop-shadow(0 0 8px rgba(0, 212, 255, 0.5));
    }
  }
</style>
