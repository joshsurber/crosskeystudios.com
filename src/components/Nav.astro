---
const { pathname } = Astro.url;

// Remove trailing slashes for more accurate matching
const normalizePath = (path) => path.replace(/\/$/, "") || "/";
const currentPath = normalizePath(pathname);

const navItems = [
  { href: "/", label: "Home" },
  { href: "/about", label: "About" },
  { href: "/services", label: "Services" },
  { href: "/contact", label: "Contact" },
];
const navLinks = [
  { label: "Home", href: "/home" },
  { label: "Services", href: "/services" },
  { label: "Portfolio", href: "/portfolio" },
  { label: "Playbook", href: "/playbook" },
  { label: "About", href: "/about" },
  { label: "Contact", href: "/contact" },
];
---

<ul>
  {
    navLinks.map(({ href, label }) => {
      const isActive = currentPath === normalizePath(href);

      return (
        <li>
          <a
            href={href}
            class={isActive ? "active" : ""}
            aria-current={isActive ? "page" : undefined}
          >
            {label}
          </a>
        </li>
      );
    })
  }
</ul>

<ul>
  {
    navLinks.map((link) => (
      <li>
        <a href={link.href} class="nav-item">
          {link.name}
        </a>
      </li>
    ))
  }
</ul>

<style>
  ul {
    display: flex;
    gap: 2rem;
    list-style-type: none;
  }
  a {
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
  }
  a:hover {
    color: #00e5ff; /* Electric Cyan glow */
    text-shadow: 0 0 8px rgba(0, 229, 255, 0.6);
  }
  a.active {
    color: currentColor;
    text-shadow: none;
  }
</style>
